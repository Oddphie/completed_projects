/* DATA */

// https://www.wix.com/blog/2020/12/types-of-websites/
const websites = [
    "eCommerce website",
    "business website",
    "blog website",
    "portfolio website",
    "event website",
    "personal website",
    "membership website",
    "nonprofit website",
    "informational website",
    "online forum",
];

const characters = [
    "original character",
    "fanmade character",
    "fantasy character",
    "D&D character",
    "witch character",
    "animal character",
    "monster chracter",
    "superhero character",
    "villainous character",
];

// https://codebeautify.org/random-aesthetic-generator


// https://github.com/boennemann/animals/blob/master/words.json
const animals = [
    "aardvark",
    "albatross",
    "alligator",
    "alpaca",
    "ant",
    "anteater",
    "antelope",
    "ape",
    "armadillo",
    "baboon",
    "badger",
    "barracuda",
    "bat",
    "bear",
    "beaver",
    "bee",
    "bison",
    "boar",
    "buffalo",
    "butterfly",
    "camel",
    "capybara",
    "caribou",
    "cassowary",
    "cat",
    "caterpillar",
    "cattle",
    "chamois",
    "cheetah",
    "chicken",
    "chimpanzee",
    "chinchilla",
    "chough",
    "clam",
    "cobra",
    "cockroach",
    "cod",
    "cormorant",
    "coyote",
    "crab",
    "crane",
    "crocodile",
    "crow",
    "curlew",
    "deer",
    "dinosaur",
    "dog",
    "dogfish",
    "dolphin",
    "donkey",
    "dotterel",
    "dove",
    "dragonfly",
    "duck",
    "dugong",
    "dunlin",
    "eagle",
    "echidna",
    "eel",
    "eland",
    "elephant",
    "elephant-seal",
    "elk",
    "emu",
    "falcon",
    "ferret",
    "finch",
    "fish",
    "flamingo",
    "fly",
    "fox",
    "frog",
    "gaur",
    "gazelle",
    "gerbil",
    "giant-panda",
    "giraffe",
    "gnat",
    "gnu",
    "goat",
    "goose",
    "goldfinch",
    "goldfish",
    "gorilla",
    "goshawk",
    "grasshopper",
    "grouse",
    "guanaco",
    "guinea-fowl",
    "guinea-pig",
    "gull",
    "hamster",
    "hare",
    "hawk",
    "hedgehog",
    "heron",
    "herring",
    "hippopotamus",
    "hornet",
    "horse",
    "human",
    "hummingbird",
    "hyena",
    "ibex",
    "ibis",
    "jackal",
    "jaguar",
    "jay",
    "jellyfish",
    "kangaroo",
    "kingfisher",
    "koala",
    "komodo-dragon",
    "kookabura",
    "kouprey",
    "kudu",
    "lapwing",
    "lark",
    "lemur",
    "leopard",
    "lion",
    "llama",
    "lobster",
    "locust",
    "loris",
    "louse",
    "lyrebird",
    "magpie",
    "mallard",
    "manatee",
    "mandrill",
    "mantis",
    "marten",
    "meerkat",
    "mink",
    "mole",
    "mongoose",
    "monkey",
    "moose",
    "mouse",
    "mosquito",
    "mule",
    "narwhal",
    "newt",
    "nightingale",
    "octopus",
    "okapi",
    "opossum",
    "oryx",
    "ostrich",
    "otter",
    "owl",
    "ox",
    "oyster",
    "panther",
    "parrot",
    "partridge",
    "peafowl",
    "pelican",
    "penguin",
    "pheasant",
    "pig",
    "pigeon",
    "polar-bear",
    "pony",
    "porcupine",
    "porpoise",
    "prairie-dog",
    "quail",
    "quelea",
    "quetzal",
    "rabbit",
    "raccoon",
    "rail",
    "ram",
    "rat",
    "raven",
    "red-deer",
    "red-panda",
    "reindeer",
    "rhinoceros",
    "rook",
    "salamander",
    "salmon",
    "sand-dollar",
    "sandpiper",
    "sardine",
    "scorpion",
    "sea-lion",
    "sea-urchin",
    "seahorse",
    "seal",
    "shark",
    "sheep",
    "shrew",
    "skunk",
    "snail",
    "snake",
    "sparrow",
    "spider",
    "spoonbill",
    "squid",
    "squirrel",
    "starling",
    "stingray",
    "stinkbug",
    "stork",
    "swallow",
    "swan",
    "tapir",
    "tarsier",
    "termite",
    "tiger",
    "toad",
    "trout",
    "turkey",
    "turtle",
    "vicuña",
    "viper",
    "vulture",
    "wallaby",
    "walrus",
    "wasp",
    "water-buffalo",
    "weasel",
    "whale",
    "wolf",
    "wolverine",
    "wombat",
    "woodcock",
    "woodpecker",
    "worm",
    "wren",
    "yak",
    "zebra",
];

const about = [
    "animals",
    "mythical animals",
    "fantasy",
    "witches",
    "ghosts",
    "Halloween",

    "birds",
    "space",
    "stars",
    "the moon",
    "sky",
    "night skys",
    "pastel skys",
    "sunsets",
    "sunrises",
    "clouds",
    "rain",
    "storms",
    "rainbows",

    "cafés",
    "coffee",
    "tea",
    "smoothies",
    "cake",
    "baking",
    "bread",

    "restuarant",
    "pasta",
    "burgers",
    "chips",
    "potatoes",
    "breakfast",
    "lunch",
    "dinner",
    "dessert",

    "architecture",
    "rooms",
    "bedrooms",
    "windows",
    "desks",
    "study corners",

    "plants",
    "flowers",
    "leaves",
    "moss",
    "trees",
    "fruit",
    "mushrooms",
    "clover",
    "succulents",
    "bonsai",
    "vines",

    "the ocean",
    "fish",
    "reefs",
    "waves",
    "seaweed",
    "deep sea creatures",
    "eels",
    "sharks",
    "whales",
    "boats",
    "beaches",
    "seashells",
    "islands",
    "water",

    "snow",
    "arctic animals",
    "warm snow clothes",
    "pine forests",
    "glaciers",
    "mountains",

    "clothes",
    "hoodies",
    "shoes",
    "gloves",

    "photography",
    "stationery",
    "art",
    "sketches",
    "paper",
    "pens",
    "study notes",

    "gems",
];

const themes = {
    colours: randColour(),
    other: [
        "minimalistic",
        "pastel",
        "cute",
        "colourful",
        "space",
        "plants",
        "edgy",
    ],
};

/* MAIN */
const main = document.getElementsByTagName("main")[0];

// window height and width
let window_height = window.innerHeight;
let window_width = window.innerWidth;

// on start of page
window.onload = () => {
    randSentence();
};

// on click of btn
let rand_btn = document.getElementById("rand-btn");
rand_btn.onclick = () => {
    randSentence();
};

/* RANDOMISE ALL FIELDS */
function randSentence() {
    let sentence = document.getElementById("sentence");
    randType(settings["type-options"]);
    numberAbout(settings["about-number"]);
    randTheme();
}

/* TYPE OF WEBSITE */
function randType(type) {
    let rand_type = document.getElementById("type");
    rand_type.innerText = type[Math.floor(Math.random() * type.length)];

    // randomise field
    rand_type.onclick = () => {
        randType(type);
    };
}

/* ABOUT THE WEBSITE */
function randAbout() {
    return about[Math.floor(Math.random() * about.length)];
}

function numberAbout(number) {
    let rand_about = document.getElementById("about");
    rand_about.innerText = "";

    // for every number, add a random word
    for (let i = 0; i < number; i++) {
        let word = document.createElement("span");
        word.classList.add("about");

        // randomise field
        word.innerText = randAbout();
        word.onclick = () => {
            word.innerText = randAbout();
        };

        rand_about.appendChild(word);

        // add conjunctions and punctuation
        if (number == 2 && i === 0) {
            let conj = document.createElement("span");
            conj.innerText += " and ";
            rand_about.appendChild(conj);
        }
        if (number == 3 && i === 0) {
            let punct = document.createElement("span");
            punct.innerText += ", ";
            rand_about.appendChild(punct);
        }
        if (number == 3 && i === 1) {
            let conj = document.createElement("span");
            conj.innerText += " and ";
            rand_about.appendChild(conj);
        }
    }
}

/* THEME OF THE WEBSITE */
function randTheme(number) {
    let rand_theme = document.getElementById("theme");

    // random theme
    let themes_length = Object.keys(themes).length;
    let rand_index = Math.floor(Math.random() * themes_length);

    // lil coloured box
    let box_colour = document.getElementsByClassName("box-col")[0];
    box_colour.style.display = "none";

    // remove text-transform if not HEX code
    rand_theme.style.textTransform = "";
    if (rand_index === 0) {
        // add lil coloured box
        box_colour.style.display = "";

        // add text-transform for HEX code
        rand_theme.style.textTransform = "uppercase";

        //randomise colour
        themes[Object.keys(themes)[rand_index]] = randColour();
        let rand_colour = themes[Object.keys(themes)[rand_index]];

        // print HEX code
        rand_theme.innerText = rand_colour.replace("#", "");

        // change colour of lil coloured box
        document.documentElement.style.setProperty("--rand-col", rand_colour);
    } else {
        // remove lil coloured box
        box_colour.style.display = "none";

        // the theme topic title
        let theme_title = Object.keys(themes)[rand_index];

        // random theme topic choice
        let theme_title_length = themes[Object.keys(themes)[rand_index]].length;
        let rand_title_index = Math.floor(Math.random() * theme_title_length);

        // the theme topic choice
        rand_theme.innerText = themes[theme_title][rand_title_index];
    }

    // randomise field
    rand_theme.onclick = () => {
        randTheme();
    };
}

let settings = {};
getCurrentSettings();

function getCurrentSettings() {
    let dropdowns = document.querySelectorAll("form#change-settings>select");
    dropdowns.forEach((dropdown) => {
        // log current settings
        settings[dropdown.id] = dropdown.value;

        // change string to variable
        if (settings["type-options"] === "websites")
            settings["type-options"] = websites;
        else if (settings["type-options"] === "characters")
            settings["type-options"] = characters;
    });
    console.log(settings);
}

// on submit
let settings_btn = document.getElementById("submit-changes");
settings_btn.addEventListener("click", function changeSettings(e) {
    e.preventDefault();

    // type
    let type_option = document.getElementById("type-options").value;
    //// change string to variable
    if (type_option === "websites") type_option = websites;
    else if (type_option === "characters") type_option = characters;

    if (type_option != settings["type-options"]) {
        randType(type_option);
    }

    // about
    let about_option = document.getElementById("about-number").value;
    if (about_option != settings["about-number"]) {
        numberAbout(about_option);
    }

    // theme
    let theme_option = document.getElementById("theme-number").value;

    getCurrentSettings();
});

/* RANDOMISE COLOUR */
function randColour() {
    return "#" + Math.floor(Math.random() * 16777215).toString(16);
}

const sketch = function (s) {
    s.setup = function () {
        s.createCanvas(window_width, window_height);

        window.onresize = function resizeCanvas() {
            window_height = window.innerHeight;
            window_width = window.innerWidth;
            s.resizeCanvas(window_width, window_height);
        };
    };

    let points = [];
    s.draw = function () {
        s.clear();
        s.beginShape();

        if (s.mouseIsPressed) {
            points.push(s.createVector(s.mouseX, s.mouseY, s.millis()));
        } else {
            points.shift();
        }

        for (let i = 0; i < points.length - 1; i++) {
            s.stroke(255, s.map(i, 0, points.length - 1, 255, 255));
            s.strokeWeight(8);
            s.strokeJoin(s.ROUND);
            s.strokeCap(s.ROUND);
            s.line(points[i].x, points[i].y, points[i + 1].x, points[i + 1].y);
        }
        s.endShape();
    };
};

new p5(sketch, "draw");
